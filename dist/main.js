(()=>{"use strict";class e{constructor(e,t,o,n,c){this.title=e,this.author=t,this.pages=o,this.completed=n,this.image=c}}function t(e,t,o,n){const c=document.createElement("h3");c.id=n,c.innerText=`${t}${e}`,c.contentEditable="true",c.classList.add("h3"),o.appendChild(c)}const o=document.querySelector(".modal");function n(){o.classList.toggle("show-modal")}const c=function(){const e=function(o){const n=o,c=document.querySelector(".cardInput"),d=document.createElement("div");d.classList.add("containerCards");const a=document.createElement("button"),r=document.createElement("button");r.innerText="edit save",a.innerText="Remove Book",r.addEventListener("click",(function(){const e=this.parentNode;console.log("parent",e);const t=e.childNodes;console.log(typeof t)})),a.addEventListener("click",(()=>{l=l.filter((e=>e.title!==n.title)),console.log(l),localStorage.setItem("libraryArray",JSON.stringify(l)),console.log(l),document.querySelector(".cardInput").innerHTML="";for(const t of l)e(t)})),t(o.title,"Title ",d,"0"),t(o.author,"Author ",d,"1"),t(o.pages,"Pages ",d,"2"),t(o.completed,"Completed ",d,"3"),d.appendChild(r),d.appendChild(a),c.appendChild(d)};return{addBooktoDom:e}}();let l=[];const d=(l=JSON.parse(localStorage.getItem("libraryArray")),null===l&&(l=[]),{addBook:function(){const t=document.getElementById("title"),o=document.getElementById("author"),n=document.getElementById("pages"),d=document.getElementById("completed"),a=document.getElementById("img-url");t.checkValidity()&&o.checkValidity()&&n.checkValidity()&&d.checkValidity()||alert("ALARM");const r=new e(t.value,o.value,n.value,d.value,a.value);l.push(r),localStorage.setItem("libraryArray",JSON.stringify(l)),c.addBooktoDom(r)}});let a=[];window.onload=function(){a=JSON.parse(localStorage.getItem("libraryArray")),null===a&&(a=[]);for(const e of a)c.addBooktoDom(e);document.querySelector(".modal-button").addEventListener("click",n),document.querySelector(".cancel").addEventListener("click",n),document.getElementById("add").addEventListener("click",(e=>{e.preventDefault(),d.addBook()}));const e=document.querySelector(".hamburger"),t=document.querySelector(".nav-links"),o=document.querySelectorAll(".nav-links li");e.addEventListener("click",(()=>{t.classList.toggle("open"),o.forEach((e=>{e.classList.toggle("fade")}))}))}})();